define("@widget/GALLERY/bs-gallery7-Gallery-db25c5ac.js",["exports","~/c/bs-dataAids","~/c/bs-wrapWithDeviceDetection","~/c/bs-GalleryImage"],(function(e,t,a,r){"use strict";const o=400;function l({alignmentOption:e,caption:a,staticContent:r}){const[l,c]=(global.React||guac.react).useState(!1);let n,s;const g=(global.React||guac.react).useMemo((()=>{try{return JSON.parse(a)}catch(e){return null}}),[a]),i=(global.React||guac.react).useMemo((()=>((e,t)=>{if(e){let t,a=0;e.blocks.some(((e,r)=>(a+=e.text.length,t=r,a>=o)));const r=e.blocks.map(((e,r)=>{if(r===t){const t=e.text.slice(0,-(a-o));return{...e,text:t}}return r>t?{...e,text:""}:e})),l={...e,blocks:r};return JSON.stringify(l)}return t.slice(0,o)})(g,a)),[g,a]);g?(n=(e=>{let t;const a=e.blocks;if(a.length>1){const e=[];a.forEach((t=>""===t.text?e.push("\n\n"):e.push(t.text))),t=e.join("")}else t=a[0].text;return t})(g),s=n.length>o):s=a.length>o;const p=s&&"center"!==e,u="center"===e||!s||s&&l,d={textAlign:"left",marginTop:"xxsmall","@md":{marginTop:"center"===e?"xxsmall":0}};return(global.React||guac.react).createElement((global.React||guac.react).Fragment,null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{children:u?a:i,style:d,"data-aid":t.d.GALLERY_CAPTION_RENDERED,richtext:!0}),p&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.MoreLink.Expand,{tag:"span",children:l?r.showLess:r.showMore,onClick:()=>c(!l),expanded:l,style:{marginVertical:"xsmall"},"data-aid":t.d.GALLERY_CAPTION_MORE_BUTTON}))}l.propTypes={alignmentOption:(global.PropTypes||guac["prop-types"]).string,caption:(global.PropTypes||guac["prop-types"]).string,staticContent:(global.PropTypes||guac["prop-types"]).object};var c=a.w(class extends(global.React||guac.react).Component{constructor(){super(...arguments),this.state={page:1},this.loadMore=this.loadMore.bind(this)}static get propTypes(){return{id:(global.PropTypes||guac["prop-types"]).string,category:(global.PropTypes||guac["prop-types"]).string,device:(global.PropTypes||guac["prop-types"]).string,galleryImages:(global.PropTypes||guac["prop-types"]).array.isRequired,renderAsThumbnail:(global.PropTypes||guac["prop-types"]).bool,renderMode:(global.PropTypes||guac["prop-types"]).string,section:(global.PropTypes||guac["prop-types"]).string,size:(global.PropTypes||guac["prop-types"]).string,staticContent:(global.PropTypes||guac["prop-types"]).object,alignmentOption:(global.PropTypes||guac["prop-types"]).string}}loadMore(e){e.stopPropagation(),this.setState({page:this.state.page+1})}renderSeeMoreText(){const{staticContent:e}=this.props;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:{paddingVertical:"xlarge",textAlign:"center"}},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.MoreLink.Expand,{tag:"span",onClick:this.loadMore,"data-aid":t.d.GALLERY_MORE_BUTTON,children:e.showMore,"data-edit-interactive":!0}))}renderPages(e=!1){const{galleryImages:a,device:o,size:c,alignmentOption:n="left",renderMode:s,staticContent:g}=this.props,{page:i}=this.state,p={marginBottom:"small","@md":{marginBottom:"small",flexDirection:{left:"row-reverse",center:"column",right:"row"}[n]}},u={last:"mobile"===o||"xs"===c||"sm"===c},d=e?3:6*i,b=e||s===(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes.EDIT,m={outputWidth:"center"===n?1250:1023};return a.slice(0,d).map((({image:e,caption:a,externalLink:o},c)=>{b&&!a&&(a=g[`demoCaption${c+1}`]);const s={imageData:{...e,...m},"data-aid":t.g(c)};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Grid,{bottom:!1,key:c,style:p},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Grid.Cell,t._({md:"center"===n?12:8,xs:12},t.a(c,{isImage:!0})),(global.React||guac.react).createElement(r.G,{imageProps:s,externalLink:o,background:!1})),a&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Grid.Cell,t._({md:"center"===n?12:4,xs:12},u,t.a(c,{isImage:!1})),(global.React||guac.react).createElement(l,{alignmentOption:n,caption:a,staticContent:g})))}))}render(){const{galleryImages:e,renderMode:t}=this.props,{page:a}=this.state,r=Math.ceil(e.length/6),o=t===(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes.DISPLAY,l=t===(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes.ADD,c=o||l;return(global.React||guac.react).createElement((global.React||guac.react).Fragment,null,e.length?this.renderPages(c):null,r>a&&!c?this.renderSeeMoreText():null)}});e.default=c,Object.defineProperty(e,"__esModule",{value:!0})})),"undefined"!=typeof window&&(window.global=window);
//# sourceMappingURL=bs-gallery7-Gallery-db25c5ac.js.map
